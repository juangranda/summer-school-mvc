@model IEnumerable<summer_school_mvc.Models.Student>

@{
    ViewBag.Title = "Index";
}

<h3 id="masterList">MASTER LIST</h3>
@using (Html.BeginForm())
{
    <p class = "searchbar">
        Search for: @Html.TextBox("searchString")
        <input type="submit" value="Search" />
    </p>
}
<!--Enrolment button out if more than 15 students are registered-->
@if (ViewBag.closedEnrollment == "false")
{
    <p id="enrollNew">
        <a href=@Url.Action("Create", "Students")><span class="btn btn-light scroll-top">Enroll new student</span></a>
    </p>
}

<br />
<table class="table">
    <tr>
        <th id="indexTh">
            <!--FIRST NAME-->
            @Html.ActionLink("FIRST NAME", "Index", new { sortColumn = "FirstName" })
            @Html.ActionLink("^", "Index", new { sortColumn = "FirstNameRev" })
        </th>
        <th>
            <!--LAST NAME-->
    @Html.ActionLink("LAST NAME", "Index", new { sortColumn = "LastName" })
    @Html.ActionLink("^", "Index", new { sortColumn = "LastNameRev" })
        </th>
        <th>
            FEE
        </th>
        <th></th>
    </tr>

@foreach (var item in Model) {
    <tr>
        <td>
            @Html.DisplayFor(modelItem => item.FirstName)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.LastName)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.EnrollmentFee)
        </td>
        <td>
            @Html.ActionLink("Edit", "Edit", new { id=item.StudentID }) |
            @Html.ActionLink("Delete", "Delete", new { id=item.StudentID })
        </td>
    </tr>
}
</table>

<!--Display total fees-->
<div class="student-total">
    <b class="amount-total">Total Student Enrollment fees =  </b>@String.Format(" {0:C}", ViewBag.Sum)
</div>
